<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3 Second Game</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
    <h1>3 Second Game</h1>
    <p>
        Directions: Click the "Start" button in the middle of the screen. Once you belive 3 seconds have passed, click the "Stop" button. <br>
        The bar below the button will turn green if your time is 3 seconds, blue if within +/- .2 seconds, yellow if within +/- .5 seconds, and red if its anything greater. <br>
        Goodluck!
    </p>

    <div class="d-grid gap-2 col-4 mx-auto">
        <button class="btn btn-primary btn-lg" type="button" id="ssbutton" onclick="startGame()">Start</button>
        <button class="btn btn-secondary btn-lg" type="button" id="colorBar" disabled></button>
    </div>

    <div class="">
        <button class="btn btn-secondary btn-md" type="button" id="statsButton" onclick="gameStats()">Stats</button>
    </div>


    <script type="application/javascript">
        const sec3 = 300
        let data = []
        let startTime
        let stopTime
        let dif
        let button = document.getElementById("ssbutton")
        let colorBar = document.getElementById("colorBar")
        let attempts = 0

        function startGame(){
            if(button.innerText === "Start"){
                stopTime = new Date().getTime()
                console.log("StopTime: " + stopTime)
                button.innerText = "Stop"
                button.className = "btn btn-secondary btn-lg"
            }
            else if(button.innerText === "Stop"){
                startTime = new Date().getTime()
                console.log("Start time: " + startTime)
                button.innerText = "Start"
                button.className = "btn btn-primary btn-lg"
                dif = Math.abs(startTime - stopTime)
                console.log("diff: " + dif)
                attempts++

                if(dif < 3200 && dif >= 3000){
                    colorBar.className = "btn btn-success btn-large"
                }
                else if(2800 < dif && dif < 3200){
                    colorBar.className = "btn btn-primary btn-large"
                }
                else if(2500 < dif && dif < 3500){
                    colorBar.className = "btn btn-warning btn-large"
                }
                else if(dif > 3500){
                    colorBar.className = "btn btn-danger btn-large"
                }
                else{
                    colorBar.className = "btn btn-secondary btn-large"
                }

                data.push([
                    "Attempt: " + attempts,
                    "Start Time: " + startTime,
                    "Stop Time: " + stopTime
                ])
            }

        }

        function gameStats(){
            console.log(data)
        }

    </script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>